<!DOCTYPE html>
<html lang="es">
  <head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <!-- SEO básico -->
  <title>{% block title %}D'Elvi - Restaurante frente al mar{% endblock %}</title>
  <meta name="description" content="D'Elvi es una tapería y bocatería frente al mar en Moaña. Tapas caseras, bocadillos gourmet y ambiente acogedor. ¡Reserva online!">
  <meta name="keywords" content="tapería, bocatería, restaurante, Moaña, tapas, bocadillos, frente al mar, D'Elvi">
  <meta name="author" content="D'Elvi Tapería - Bocatería">
  <meta http-equiv="Content-Language" content="es">
  <meta name="robots" content="index, follow">

  <!-- Open Graph (Facebook, WhatsApp, etc.) -->
  <meta property="og:title" content="D'Elvi - Restaurante frente al mar en Moaña">
  <meta property="og:description" content="Tapas caseras y bocadillos gourmet a pie de playa en Moaña. Reserva tu mesa en D'Elvi.">
  <meta property="og:image" content="https://restaurantetaperiadelvi.com/static/img/delvi-og.jpg">
  <meta property="og:url" content="https://restaurantetaperiadelvi.com">
  <meta property="og:type" content="restaurant">

  <!-- Twitter Card -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="D'Elvi - Restaurante frente al mar en Moaña">
  <meta name="twitter:description" content="Tapas caseras y bocadillos gourmet a pie de playa en Moaña. Reserva tu mesa en D'Elvi.">
  <meta name="twitter:image" content="https://restaurantetaperiadelvi.com/static/img/delvi.png">

  <!-- Favicon -->
  <link rel="icon" type="image/png" href="/static/img/delvi.png">

  <!-- Tailwind + Config -->
  <script src="https://cdn.tailwindcss.com?plugins=forms,typography"></script>
  <script>
    tailwind.config = {
      darkMode: "class",
      theme: {
        extend: {
          colors: {
            primary: "#2E7D32",
            secondary: "#1A4D2E",
            accent: "#8B4513",
            "background-light": "#F9FAFB",
            "background-dark": "#1F2937",
            "paper-light": "#FFFBEB",
            "paper-dark": "#374151",
            "wine-red": "#722F37",
          },
          fontFamily: {
            display: ["'Playfair Display'", "serif"],
            body: ["'Lato'", "sans-serif"],
            script: ["'Dancing Script'", "cursive"],
          },
          borderRadius: {
            DEFAULT: "0.5rem",
            xl: "1rem",
            "2xl": "1.5rem",
          },
          backgroundImage: {
            "wood-pattern": "url('https://www.transparenttextures.com/patterns/wood-pattern.png')",
            "cork-pattern": "url('https://www.transparenttextures.com/patterns/cork-1.png')",
          },
        },
      },
    };
  </script>

  <!-- Prefijos telefónicos -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.19/css/intlTelInput.css" />
  <script src="https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.19/js/intlTelInput.min.js"></script>

  <!-- Estilos personalizados -->
  <link rel="stylesheet" href="/static/style/style.css">

  <!-- Tipografías -->
  <link href="https://fonts.googleapis.com" rel="preconnect" />
  <link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect" />
  <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&amp;family=Lato:wght@300;400;700&amp;family=Playfair+Display:ital,wght@0,400;0,700;1,400&amp;display=swap" rel="stylesheet" />
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet" />

  <!-- Fondo decorativo -->
  <style>
    .wood-texture {
      background-image: url(https://lh3.googleusercontent.com/aida-public/AB6AXuDI5OQsJbLxjFHnEt9YaSQQ_CHuoxbgnTD7S7ioKu1p7XF3gQv1KfV3HtGet-7OaMnVc_RJRJpp4vR7JywbZOJvqxykiTV7qsqWVzhZuebcnvxOyFN7jcmT7Rfe-RJMG7iiC_xv1g216BesOlE-TLEfTV_qI8nhdDPUYTrQ_t1Fq4hpd7MxTWqHAux8s5cMCkFqZkT11G4fLue99R2qczbwHqRhzpAyNgWxVJmElpieVDiDaw09-qMftgpNUMQGuX6RSZ5_yJ13TJw);
      background-size: cover;
      background-position: center;
      background-blend-mode: multiply;
    }
  </style>
</head>

  <body
    class="bg-background-light dark:bg-background-dark text-gray-800 dark:text-gray-200 font-body transition-colors duration-300"
  >
    <nav
      class="fixed w-full z-50 bg-white/90 dark:bg-gray-900/90 backdrop-blur-sm border-b border-gray-200 dark:border-gray-700 shadow-sm"
    >
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="flex justify-between items-center h-20">
          <div class="flex-shrink-0 flex items-center gap-2">
            <a href="/" class="font-script text-4xl text-primary font-bold"
              >D'Elvi</a
            >
          </div>
          <div class="hidden md:flex space-x-8 items-center">
            <a
              class="text-gray-600 dark:text-gray-300 hover:text-primary dark:hover:text-primary transition-colors font-medium"
              href="/#inicio"
              >Inicio</a
            >
            <a
              class="text-gray-600 dark:text-gray-300 hover:text-primary dark:hover:text-primary transition-colors font-medium"
              href="/#diario"
              >Menú del Día</a
            >
            <a
              class="text-gray-600 dark:text-gray-300 hover:text-primary dark:hover:text-primary transition-colors font-medium"
              href="/#menu"
              >Nuestra Carta</a
            >
            <a
              class="text-gray-600 dark:text-gray-300 hover:text-primary dark:hover:text-primary transition-colors font-medium"
              href="/#vinos"
              >Bodega</a
            >
            <a
              class="text-gray-600 dark:text-gray-300 hover:text-primary dark:hover:text-primary transition-colors font-medium"
              href="/#galeria"
              >Galería</a
            >
            <button
              class="open-reserve px-5 py-2.5 bg-primary text-white rounded-full font-bold hover:bg-secondary transition-colors shadow-lg shadow-primary/30"
            >
              Reservar
            </button>
            <button
              class="p-2 rounded-full text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-primary"
              id="theme-toggle"
            >
              <span class="material-icons dark:hidden">dark_mode</span>
              <span class="material-icons hidden dark:block">light_mode</span>
            </button>
          </div>
          <div class="md:hidden flex items-center">
            <button
              class="text-gray-600 dark:text-gray-300 hover:text-primary focus:outline-none"
              id="mobile-menu-btn"
            >
              <span class="material-icons text-3xl">menu</span>
            </button>
          </div>
        </div>
      </div>
    </nav>
    <!-- MENÚ MÓVIL -->
    <div id="mobile-menu" class="fixed inset-0 z-40 hidden md:hidden">
      <!-- Fondo oscuro -->
      <div
        id="mobile-backdrop"
        class="absolute inset-0 bg-black/50 backdrop-blur-sm"
      ></div>

      <!-- Panel lateral -->
      <div
        id="mobile-panel"
        class="absolute top-20 right-0 h-[calc(100%-5rem)] w-72 bg-white dark:bg-gray-900 shadow-xl p-6 transform translate-x-full transition-transform duration-300 flex flex-col gap-6"
      >
        <a href="/#inicio" class="mobile-link text-lg font-medium">Inicio</a>
        <a href="/#diario" class="mobile-link text-lg font-medium"
          >Menú del Día</a
        >
        <a href="/#menu" class="mobile-link text-lg font-medium"
          >Nuestra Carta</a
        >
        <a href="/#vinos" class="mobile-link text-lg font-medium">Bodega</a>
        <a href="/#galeria" class="mobile-link text-lg font-medium">Galería</a>

        <button
          class="open-reserve px-4 py-3 bg-primary text-white rounded-full text-center font-bold"
        >
          Reservar
        </button>

        <!-- Botón para cambiar tema -->
        <button
          id="mobile-theme-toggle"
          class="mt-auto flex items-center justify-center gap-2 px-4 py-3 bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-200 rounded-full font-bold hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors"
        >
          <span class="material-icons" id="mobile-theme-icon">dark_mode</span>
          Cambiar tema
        </button>
      </div>
    </div>
    
    <main>{% block content %}{% endblock %}</main>

    <!-- MODAL DE RESERVA -->
    <div
      id="reserve-modal"
      class="fixed inset-0 z-50 hidden bg-black/50 backdrop-blur-sm flex items-center justify-center"
    >
      <div
        class="bg-white dark:bg-gray-900 rounded-xl shadow-xl w-full max-w-md p-6 relative"
      >
        <!-- Botón cerrar -->
        <button
          id="close-reserve"
          class="absolute top-3 right-3 text-gray-500 hover:text-primary"
        >
          ✖
        </button>
        <h2 class="text-2xl font-bold text-center mb-4">Reservar Mesa</h2>
        <!-- FORMULARIO -->
        <form id="reserve-form" class="flex flex-col gap-4">
          <input
            type="text"
            id="nombre"
            placeholder="Nombre"
            required
            class="border rounded-lg px-4 py-2 focus:ring-2 focus:ring-primary text-gray-900 placeholder-gray-400"
          />

          <input
            type="tel"
            id="phone"
            placeholder="Teléfono"
            required
            class="w-full border rounded-lg px-4 py-2 focus:ring-2 focus:ring-primary text-gray-900 placeholder-gray-400"
          />

          <input
            type="email"
            id="email"
            placeholder="Correo electrónico"
            required
            class="border rounded-lg px-4 py-2 focus:ring-2 focus:ring-primary text-gray-900 placeholder-gray-400"
          />

          <input
            type="text" 
            id="fecha" 
            required
            placeholder="dd/mm/yyyy" 
            onfocus="this.type='date'"
            onblur="if(!this.value)this.type='text'"
            class="w-full border rounded-lg px-4 py-2 focus:ring-2 focus:ring-primary text-gray-900 placeholder-gray-400"
          />

          <!-- Selector de hora -->
          <select
            id="hora"
            required
            class="border rounded-lg px-4 py-2 focus:ring-2 focus:ring-primary text-gray-900 placeholder-gray-400"
          >
            <option value="">Selecciona una hora</option>
          </select>

          <input
            type="number"
            id="personas"
            placeholder="Número de personas"
            max="20"
            min="1"
            required
            class="border rounded-lg px-4 py-2 focus:ring-2 focus:ring-primary text-gray-900 placeholder-gray-400"
          />

          <!-- Checkbox para guardar datos -->
          <label
            class="flex items-center gap-2 text-gray-700 dark:text-gray-300"
          >
            <input type="checkbox" id="save-data" class="accent-primary" />
            Guardar mis datos para próximas reservas
          </label>

          <button
            id="submitBtn"
            type="submit"
            class="bg-primary text-white font-bold py-2 rounded-lg hover:bg-secondary transition-colors flex items-center justify-center"
          >
            <span id="btnText">Confirmar Reserva</span>
            <!-- Spinner oculto -->
            <svg id="spinner" class="hidden animate-spin ml-2 h-5 w-5 text-white"
                xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
              <circle class="opacity-25" cx="12" cy="12" r="10"
                      stroke="currentColor" stroke-width="4"></circle>
              <path class="opacity-75" fill="currentColor"
                    d="M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"></path>
            </svg>
          </button>

        </form>
      </div>
    </div>

    <!-- MODAL DE CONFIRMACIÓN -->
    <div
      id="confirm-modal"
      class="fixed inset-0 z-50 hidden bg-black/50 backdrop-blur-sm flex items-center justify-center"
    >
      <div
        class="bg-white dark:bg-gray-900 rounded-xl shadow-xl w-full max-w-md p-6 relative"
      >
        <!-- Botón cerrar -->
        <button
          id="close-confirm"
          class="absolute top-3 right-3 text-gray-500 hover:text-primary"
        >
          ✖
        </button>
        <h2 class="text-2xl font-bold text-center mb-4 text-primary">
          Reserva Confirmada ✅
        </h2>
        <div class="text-center text-gray-700 dark:text-gray-300">
          <p class="mb-4">Tu reserva ha sido registrada correctamente. Se te ha enviado un correo con los datos de la reserva.</p>
          <p id="confirm-details" class="font-semibold"></p>
        </div>
        <div class="mt-6 flex justify-center">
          <button
            id="ok-confirm"
            class="bg-primary text-white font-bold py-2 px-6 rounded-lg hover:bg-secondary transition-colors"
          >
            Aceptar
          </button>
        </div>
      </div>
    </div>

    <!-- MODAL DE ERROR -->
    <div
      id="error-modal"
      class="fixed inset-0 z-50 hidden bg-black/50 backdrop-blur-sm flex items-center justify-center"
    >
      <div
        class="bg-white dark:bg-gray-900 rounded-xl shadow-xl w-full max-w-md p-6 relative"
      >
        <!-- Botón cerrar -->
        <button
          id="close-error"
          class="absolute top-3 right-3 text-gray-500 hover:text-red-500"
        >
          ✖
        </button>
        <h2 class="text-2xl font-bold text-center mb-4 text-red-600">
          ❌ Error en la Reserva
        </h2>
        <div class="text-center text-gray-700 dark:text-gray-300">
          <p id="error-message" class="mb-4">
            Ha ocurrido un problema al procesar tu reserva.
          </p>
        </div>
        <div class="mt-6 flex justify-center">
          <button
            id="ok-error"
            class="bg-red-600 text-white font-bold py-2 px-6 rounded-lg hover:bg-red-700 transition-colors"
          >
            Cerrar
          </button>
        </div>
      </div>
    </div>

    <footer
      class="bg-gray-900 text-white pt-20 pb-10 border-t border-gray-800"
      id="contacto"
    >
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="grid grid-cols-1 md:grid-cols-3 gap-12 mb-12">
          <div class="text-center md:text-left">
            <h3 class="font-script text-5xl text-primary mb-6">D'Elvi</h3>
            <p class="text-gray-400 mb-6">
              Cocina con amor, ingredientes frescos y el sabor auténtico de
              nuestra tierra y nuestro mar.
            </p>
          </div>
          <div class="text-center">
            <h4 class="text-xl font-bold mb-6 font-display">Contacto</h4>
            <p
              class="mb-4 flex items-center justify-center gap-2 text-gray-300"
            >
              <span class="material-icons text-primary">phone</span>
              <a class="hover:text-white transition-colors" href="tel:609078288"
                >609 07 82 88</a
              >
            </p>
            <p
              class="mb-4 flex items-center justify-center gap-2 text-gray-300"
            >
              <span class="material-icons text-primary">location_on</span>
              <span>Rúa Porto de Meira, 5, 36955 Moaña, Pontevedra</span>
            </p>
          </div>
          <div class="text-center md:text-right">
            <h4 class="text-xl font-bold mb-6 font-display">Horario</h4>
            <div class="text-sm space-y-2">
              <p class="flex justify-between md:justify-end gap-4">
                <span class="text-gray-400">Lunes</span>
                <span class="text-white font-bold">12:00–18:00</span>
              </p>
              <p class="flex justify-between md:justify-end gap-4">
                <span class="text-gray-400">Martes</span>
                <span class="text-white font-bold text-red-400">Cerrado</span>
              </p>
              <p class="flex justify-between md:justify-end gap-4">
                <span class="text-gray-400">Miércoles</span>
                <span class="text-white font-bold">12:00–18:00</span>
              </p>
              <p class="flex justify-between md:justify-end gap-4">
                <span class="text-gray-400">Jueves</span>
                <span class="text-white font-bold">12:00–18:00</span>
              </p>
              <p class="flex justify-between md:justify-end gap-4">
                <span class="text-gray-400">Viernes</span>
                <span class="text-white font-bold">12:00–23:30</span>
              </p>
              <p class="flex justify-between md:justify-end gap-4">
                <span class="text-gray-400">Sábado</span>
                <span class="text-white font-bold">12:00–23:30</span>
              </p>
              <p class="flex justify-between md:justify-end gap-4">
                <span class="text-gray-400">Domingo</span>
                <span class="text-white font-bold">12:00–23:30</span>
              </p>
              <p class="text-xs text-yellow-500 italic text-right mt-2">
                El horario podría cambiar en festivos
              </p>
            </div>
          </div>
        </div>
        <div
          class="border-t border-gray-800 pt-8 text-center text-gray-500 text-sm"
        >
          <p>© 2025 Restaurante D'Elvi. Todos los derechos reservados.</p>
        </div>
      </div>
    </footer>

    <!-- SCRIPTS -->
    <script src="/static/js/Tema_Menu.js"></script>
    <script src="/static/js/SaveData.js"></script>
    <script src="/static/js/PrefijosTelefonicos.js"></script>
    <script src="/static/js/ModalReserva.js"></script>
    <script src="/static/js/Horario.js"></script>
  </body>
</html>