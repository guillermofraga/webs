{% extends "base.html" %}

{% block title %}Reservas{% endblock %}

{% block content %}

<h1 class="text-2xl font-bold mb-6">Gestión de Reservas</h1>

<ul class="space-y-2 mb-8">
    {% for reserva in reservas %}
    <li class="bg-white dark:bg-gray-900 p-4 rounded-lg shadow">
        <strong>ID:</strong> {{ reserva.id }} —
        <strong>Cliente:</strong> {{ reserva.usuario.nombre }} —
        <strong>Habitación:</strong> {{ reserva.habitacion.numero }} —
        <strong>Fechas:</strong> {{ reserva.fecha_entrada }} a {{ reserva.fecha_salida }} —
        <a href="{{ url_for('cancelar_reserva', reserva_id=reserva.id) }}" class="text-red-600 hover:underline">Cancelar</a>
    </li>
    {% endfor %}
</ul>

<form action="{{ url_for('agregar_reserva') }}" method="POST" class="space-y-6 bg-white dark:bg-gray-900 p-6 rounded-xl shadow-lg">
    <div>
        <label for="habitacion_id" class="block text-sm font-medium text-gray-700 dark:text-gray-300">Habitación</label>
        <select name="habitacion_id" id="habitacion_id" required class="mt-1 block w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-700 bg-gray-50 dark:bg-gray-800 text-gray-900 dark:text-white">
            {% for habitacion in habitaciones %}
            {% if habitacion.disponible %}
            <option value="{{ habitacion.id }}">Habitación {{ habitacion.numero }} - {{ habitacion.nombre }}</option>
            {% endif %}
            {% endfor %}
        </select>
    </div>

    <div>
        <label for="fecha_entrada" class="block text-sm font-medium text-gray-700 dark:text-gray-300">Fecha de entrada</label>
        <input type="date" name="fecha_entrada" id="fecha_entrada" required class="mt-1 block w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-700 bg-gray-50 dark:bg-gray-800 text-gray-900 dark:text-white">
    </div>

    <div>
        <label for="fecha_salida" class="block text-sm font-medium text-gray-700 dark:text-gray-300">Fecha de salida</label>
        <input type="date" name="fecha_salida" id="fecha_salida" required class="mt-1 block w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-700 bg-gray-50 dark:bg-gray-800 text-gray-900 dark:text-white">
    </div>

    <button type="submit" class="w-full px-5 py-3 text-sm font-bold bg-primary text-white rounded-lg hover:bg-primary/90 transition-colors">
        Reservar
    </button>
</form>

{% endblock %}