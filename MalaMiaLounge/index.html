<!DOCTYPE html>
<html class="dark" lang="es">

<head>
    <meta charset="utf-8" />
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <title>Mala Mia Lounge</title>

    <!-- SEO -->
    <meta name="description"
        content="Mala Mia Lounge — Shisha, billar y noches inolvidables en Vigo. Ambiente vibrante, cócteles y música hasta la madrugada." />
    <meta name="keywords" content="club nocturno Vigo, Mala Mia Lounge, discoteca Vigo, bar de cócteles, lounge Vigo, shisha Vigo, billar Vigo, ocio nocturno, salir de fiesta Vigo, música en vivo, copas Vigo, ambiente nocturno, fiesta Vigo, cócteles artesanales, noche Vigo" />
    <link rel="canonical" href="https://malamialounge.com/" />
    <meta name="robots" content="index, follow" />
    <meta name="author" content="Mala Mia Lounge" />
    <meta name="theme-color" content="#161118" />

    <!-- Open Graph / Facebook -->
    <meta property="og:site_name" content="Mala Mia Lounge" />
    <meta property="og:title" content="Mala Mia Lounge — Shisha y Noches en Vigo" />
    <meta property="og:description"
        content="Shisha premium, mesas de billar y ambiente único. Visítanos en Vigo para disfrutar de la mejor noche." />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://malamialounge.com/" />
    <meta property="og:image" content="https://malamialounge.com/img/MalaMiaLounge.png" />
    <meta property="og:image:alt" content="Mala Mia Lounge" />

    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
    <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300..700&amp;display=swap"
        rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet" />
    <link rel="icon" href="img/MalaMiaLounge.png" type="image/png" />
    <script>
        tailwind.config = {
            darkMode: "class",
            theme: {
                extend: {
                    colors: {
                        "primary": "#9311d4",
                        "background-light": "#f7f6f8",
                        "background-dark": "#161118",
                    },
                    fontFamily: {
                        "display": ["Space Grotesk", "Noto Sans", "sans-serif"]
                    },
                    borderRadius: {
                        "DEFAULT": "0.5rem",
                        "lg": "1rem",
                        "xl": "1.5rem",
                        "full": "9999px"
                    },
                },
            },
        }
    </script>
    <style>
        html {
            scroll-behavior: smooth;
        }

        .material-symbols-outlined {
            font-variation-settings:
                'FILL' 0,
                'wght' 400,
                'GRAD' 0,
                'opsz' 24
        }
    </style>
</head>

<body class="bg-background-dark font-display">
    <div
        class="relative flex h-auto min-h-screen w-full flex-col bg-background-dark group/design-root overflow-x-hidden">
        <div class="layout-container flex h-full grow flex-col">
            <header
                class="sticky top-0 z-50 px-4 sm:px-6 md:px-10 lg:px-20 xl:px-40 flex flex-1 justify-center py-3 bg-background-dark/90 backdrop-blur-sm">
                <div class="layout-content-container flex flex-col max-w-[960px] flex-1">
                    <div
                        class="flex items-center justify-between whitespace-nowrap border-b border-solid border-b-[#332839] px-4 py-3 sm:px-10">
                        <div class="flex items-center gap-4 text-white">
                            <div class="w-10 h-10 sm:w-12 sm:h-12">
                                <img class="object-cover rounded-full w-full h-full" src="img/MalaMiaLounge.png"
                                    alt="Mala Mia Lounge Logo" />
                            </div>
                            <h2 class="text-white text-lg sm:text-xl font-bold leading-tight tracking-[-0.015em]">Mala
                                Mia Lounge</h2>
                        </div>

                        <!-- Desktop nav -->
                        <nav class="hidden sm:flex flex-1 justify-end gap-6">
                            <div class="flex items-center gap-6">
                                <a class="text-white text-base font-medium leading-normal" href="#shisha">Shisha</a>
                                <a class="text-white text-base font-medium leading-normal" href="#billar">Billar</a>
                                <a class="text-white text-base font-medium leading-normal" href="#galeria">Galería</a>
                                <a class="text-white text-base font-medium leading-normal" href="#contacto">Contacto</a>
                            </div>
                        </nav>

                        <!-- Mobile menu button -->
                        <div class="sm:hidden flex items-center">
                            <button id="mobile-menu-button" aria-expanded="false" aria-controls="mobile-menu"
                                class="inline-flex items-center justify-center p-2 rounded-md text-white bg-transparent hover:bg-white/5 focus:outline-none">
                                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"
                                    xmlns="http://www.w3.org/2000/svg">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M4 6h16M4 12h16M4 18h16"></path>
                                </svg>
                            </button>
                        </div>
                    </div>

                    <!-- Mobile menu (hidden by default) -->
                    <div id="mobile-menu"
                        class="sm:hidden hidden bg-background-dark/95 border-b border-[#332839] px-4 py-3">
                        <div class="flex flex-col gap-3">
                            <a class="text-white text-base font-medium" href="#shisha">Shisha</a>
                            <a class="text-white text-base font-medium" href="#billar">Billar</a>
                            <a class="text-white text-base font-medium" href="#galeria">Galería</a>
                            <a class="text-white text-base font-medium" href="#contacto">Contacto</a>
                        </div>
                    </div>
                </div>
            </header>

            <main class="flex flex-col items-center">
                <section class="w-full" id="hero">
                    <div class="px-4 sm:px-6 md:px-10 lg:px-20 xl:px-40 flex flex-1 justify-center py-5">
                        <div class="layout-content-container flex flex-col max-w-[960px] flex-1">
                            <div class="@container">
                                <div class="@[480px]:p-4">
                                    <div class="flex min-h-[420px] sm:min-h-[600px] flex-col gap-6 bg-cover bg-center bg-no-repeat @[480px]:gap-8 @[480px]:rounded-xl items-center justify-center p-4"
                                        data-alt="People dancing in a nightclub with vibrant lights"
                                        style='background-image: linear-gradient(rgba(0, 0, 0, 0.4) 0%, rgba(0, 0, 0, 0.6) 100%), url("https://lh3.googleusercontent.com/aida-public/AB6AXuDBSGE1fXYRTOwAtamYnkbWWmp_Xoy0sbpXm0iNszmCpplWidDq68DebChlLR7Dc5H8MYjs--qDO4lb8I97EZLSlEYkWybBlo1qOQW5-xJZcxPhwzx6qhnh-HlBvX-ITuzWAKaobA-FIeZWDspMAGtwORZpLslPwbGVFF4SgneTlg8iA9u-TarUVfggLZDOYY68VVCCsdflbr2hnTzNgYD77_LlmT9rcFX0KbPsr8jZCmqen8N96wksghX918dL6vTBOUU77FScQhs");'>
                                        <div class="flex flex-col gap-4 text-center px-2">
                                            <h1
                                                class="text-white text-3xl sm:text-5xl font-black leading-tight tracking-[-0.033em] sm:[480px]:text-7xl">
                                                La Noche es Nuestra
                                            </h1>
                                            <h2
                                                class="text-white text-sm sm:text-lg font-normal leading-normal sm:[480px]:text-xl">
                                                Donde la Fiesta Nunca Termina
                                            </h2>
                                        </div>
                                        <a class="mt-4 flex min-w-[84px] max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-xl h-12 px-5 bg-primary text-white text-sm sm:text-base font-bold leading-normal tracking-[0.015em]"
                                            href="#contacto">
                                            <span class="truncate">Contacta ahora</span>
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <section class="w-full pt-16 sm:pt-20" id="shisha">
                    <div class="px-4 sm:px-6 md:px-10 lg:px-20 xl:px-40 flex flex-1 justify-center py-5">
                        <div class="layout-content-container flex flex-col max-w-[960px] flex-1 gap-6 sm:gap-8">
                            <div class="flex flex-wrap justify-between gap-3 p-4">
                                <p
                                    class="text-white text-3xl sm:text-4xl font-black leading-tight tracking-[-0.033em] min-w-72">
                                    Shisha
                                </p>
                            </div>

                            <!-- Aquí: vertical en móvil, horizontal con scroll en sm+ -->
                            <div
                                class="flex flex-col sm:flex-row sm:overflow-x-auto [-ms-scrollbar-style:none] [scrollbar-width:none] [&amp;::-webkit-scrollbar]:hidden">
                                <div class="flex flex-col sm:flex-row items-stretch p-4 gap-4">
                                    <div
                                        class="w-full sm:flex-1 flex flex-col gap-4 rounded-xl bg-[#231c27] shadow-[0_0_4px_rgba(0,0,0,0.1)] sm:min-w-72">
                                        <div class="w-full bg-center bg-no-repeat aspect-video bg-cover rounded-t-xl flex flex-col"
                                            data-alt="Shisha clásica"
                                            style='background-image: url("/img/shishaClasica.png");'></div>
                                        <div class="flex flex-col flex-1 justify-between p-4 pt-0 gap-4">
                                            <div>
                                                <p class="text-white text-base sm:text-lg font-medium leading-normal">
                                                    Shisha Clásica</p>
                                                <p
                                                    class="text-[#b09db9] text-sm sm:text-base font-normal leading-normal">
                                                    Tabaco tradicional, manguera simple.</p>
                                            </div>
                                        </div>
                                    </div>

                                    <div
                                        class="w-full sm:flex-1 flex flex-col gap-4 rounded-xl bg-[#231c27] shadow-[0_0_4px_rgba(0,0,0,0.1)] sm:min-w-72">
                                        <div class="w-full bg-center bg-no-repeat aspect-video bg-cover rounded-t-xl flex flex-col"
                                            data-alt="Shisha premium"
                                            style='background-image: url("/img/shishaPremium.png");'></div>
                                        <div class="flex flex-col flex-1 justify-between p-4 pt-0 gap-4">
                                            <div>
                                                <p class="text-white text-base sm:text-lg font-medium leading-normal">
                                                    Shisha Premium</p>
                                                <p
                                                    class="text-[#b09db9] text-sm sm:text-base font-normal leading-normal">
                                                    Mezclas exclusivas y carbón de larga duración.</p>
                                            </div>
                                        </div>
                                    </div>

                                    <div
                                        class="w-full sm:flex-1 flex flex-col gap-4 rounded-xl bg-[#231c27] shadow-[0_0_4px_rgba(0,0,0,0.1)] sm:min-w-72">
                                        <div class="w-full bg-center bg-no-repeat aspect-video bg-cover rounded-t-xl flex flex-col"
                                            data-alt="Shisha de frutas"
                                            style='background-image: url("/img/shishaFrutas.png");'></div>
                                        <div class="flex flex-col flex-1 justify-between p-4 pt-0 gap-4">
                                            <div>
                                                <p class="text-white text-base sm:text-lg font-medium leading-normal">
                                                    Shisha de Frutas</p>
                                                <p
                                                    class="text-[#b09db9] text-sm sm:text-base font-normal leading-normal">
                                                    Sabores frutales frescos y presentación especial.</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                        </div>
                    </div>
                </section>

                <section class="w-full pt-16 sm:pt-20" id="billar">
                    <div class="px-4 sm:px-6 md:px-10 lg:px-20 xl:px-40 flex flex-1 justify-center py-5">
                        <div class="layout-content-container flex max-w-[960px] flex-1 flex-col gap-6 sm:gap-8">
                            <div class="flex flex-wrap items-center justify-between gap-3 p-4">
                                <p
                                    class="min-w-72 text-3xl sm:text-4xl font-black leading-tight tracking-[-0.033em] text-white">
                                    Noches de Billar</p>
                            </div>
                            <div class="grid grid-cols-1 gap-6 p-4 md:grid-cols-2">
                                <div class="flex flex-col justify-center gap-4">
                                    <p class="text-xl sm:text-2xl font-bold leading-tight text-white">Desafía a tus
                                        amigos</p>
                                    <p class="text-sm sm:text-base font-normal leading-normal text-[#b09db9]">Contamos
                                        con mesas de billar profesionales para que disfrutes de una partida mientras te
                                        tomas algo. El ambiente perfecto para una noche diferente, llena de competencia
                                        amistosa y buena música.</p>
                                    <p class="text-sm sm:text-base font-normal leading-normal text-[#b09db9]">
                                        Disponibilidad por orden de llegada. ¡No te quedes sin jugar!</p>
                                    <a class="mt-4 flex h-10 sm:h-12 max-w-[480px] cursor-pointer items-center justify-center self-start overflow-hidden rounded-xl bg-primary px-4 sm:px-5 text-sm sm:text-base font-bold leading-normal tracking-[0.015em] text-white"
                                        href="#contacto">
                                        <span class="truncate">Ven a Jugar</span>
                                    </a>
                                </div>
                                <div class="h-56 sm:h-80 w-full overflow-hidden rounded-xl">
                                    <img class="h-full w-full object-cover"
                                        data-alt="People playing pool in a stylish bar"
                                        src="https://lh3.googleusercontent.com/aida-public/AB6AXuAtFKh_EZl2hj1v0noN6_4q4e150iApvjYeHbHUNKKoc1vWJ7J24h8uyedydTmzectZu2BpfN3-XJjKBOLkJLvQJjLKm56c9YZIgF91v3556pva_c7qHWpG7ZJIYJmVBEY0M8oV5DMb_H59qRZMeDAY1rTg1WXraeJnMGa3jTAaYy8V6G_SmcU3_wOhTgd7zNQ6wgqwMBCQC9b5pXGVL-2gy3HsSrYo81E-jFRJykgSobINOHuMpCTj0Ce7TxA4DoprrHLVnuxc8Fs" />
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- NUEVA SECCIÓN: Videos (carrusel vertical, autoplay en bucle, sin controles de vídeo y oculta la cabecera mientras está visible) -->
                <section class="w-full pt-16 sm:pt-20" id="galeria">
                    <div class="px-4 sm:px-6 md:px-10 lg:px-20 xl:px-40 flex flex-1 justify-center py-5">
                        <div class="layout-content-container flex flex-col max-w-[960px] flex-1 gap-6 sm:gap-8">
                            <div class="flex items-center justify-between p-4">
                                <p class="text-white text-3xl sm:text-4xl font-black leading-tight tracking-[-0.033em]">
                                    Galería</p>
                            </div>

                            <!-- Carrusel -->
                            <div id="videos-carousel"
                                class="relative w-full flex items-center justify-center overflow-hidden">
                                <div id="videos-carousel-slides" class="relative w-full h-[75vh] sm:h-[80vh]">
                                    <!-- Slides insertadas mediante JS -->
                                </div>

                                <!-- Botones visibles a los lados -->
                                <button id="videos-prev" aria-label="Anterior"
                                    class="absolute left-4 sm:left-8 top-1/2 -translate-y-1/2 z-50 bg-black/40 hover:bg-black/60 text-white p-3 rounded-full shadow-lg focus:outline-none focus:ring-2 focus:ring-primary">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" fill="none"
                                        viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                            d="M15 19l-7-7 7-7" />
                                    </svg>
                                </button>
                                <button id="videos-next" aria-label="Siguiente"
                                    class="absolute right-4 sm:right-8 top-1/2 -translate-y-1/2 z-50 bg-black/40 hover:bg-black/60 text-white p-3 rounded-full shadow-lg focus:outline-none focus:ring-2 focus:ring-primary">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" fill="none"
                                        viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                            d="M9 5l7 7-7 7" />
                                    </svg>
                                </button>

                                <!-- Botón de sonido (mejorado visualmente) -->
                                <button id="videos-sound-toggle" aria-label="Activar sonido" aria-pressed="false"
                                    title="Activar sonido"
                                    class="absolute right-4 sm:right-20 bottom-6 z-50 bg-black/40 hover:bg-black/60 text-white p-2 rounded-full shadow-lg focus:outline-none transition-colors">
                                    <!-- SVG se renderiza desde JS (así evitamos inconsistencias) -->
                                </button>
                            </div>

                        </div>
                    </div>
                </section>

                <section class="w-full pt-16 sm:pt-20" id="contacto">
                    <div class="px-4 sm:px-6 md:px-10 lg:px-20 xl:px-40 flex flex-1 justify-center py-5">
                        <div class="layout-content-container flex flex-col max-w-[960px] flex-1 gap-6 sm:gap-8">
                            <div class="flex flex-wrap justify-between gap-3 p-4">
                                <p
                                    class="text-white text-3xl sm:text-4xl font-black leading-tight tracking-[-0.033em] min-w-72">
                                    Encuéntranos</p>
                            </div>
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-6 p-4">
                                <div class="flex flex-col gap-4 text-white">
                                    <div>
                                        <h3 class="text-lg sm:text-xl font-bold text-primary">Dirección</h3>
                                        <p class="text-sm sm:text-lg text-[#b09db9]">Rúa do Areal, 42, Santiago de Vigo,
                                            36201 Vigo, Pontevedra</p>
                                    </div>
                                    <div>
                                        <h3 class="text-lg sm:text-xl font-bold text-primary">Teléfono</h3>
                                        <p class="text-sm sm:text-lg text-[#b09db9]"><a href="tel:674484390">674 484
                                                390</a></p>
                                    </div>
                                    <div>
                                        <h3 class="text-lg sm:text-xl font-bold text-primary">Horario</h3>
                                        <p class="text-sm sm:text-lg text-[#b09db9]">Lunes - Miercoles: Cerrado </p>
                                        <p class="text-sm sm:text-lg text-[#b09db9]">Jueves - Sábado: 23:00 - 4:30 </p>
                                        <p class="text-sm sm:text-lg text-[#b09db9]">Domingo: 22:00 - 4:30 </p>
                                    </div>
                                </div>
                                <div class="w-full h-64 sm:h-96 rounded-xl overflow-hidden">
                                    <iframe allowfullscreen="" class="w-full h-full" data-location="Bogota"
                                        loading="lazy" referrerpolicy="no-referrer-when-downgrade"
                                        src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d369.2306097596003!2d-8.716642681226814!3d42.23912689239356!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0xd2f634fb91eaca7%3A0x47a498332a345d4b!2sMala%20Mia%20Lounge%20Vigo!5e0!3m2!1ses!2ses!4v1760880545389!5m2!1ses!2ses"
                                        style="border:0;"></iframe>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
            </main>

            <footer class="w-full mt-16 sm:mt-20 border-t border-solid border-t-[#332839]">
                <div class="px-4 sm:px-6 md:px-10 lg:px-20 xl:px-40 flex flex-1 justify-center py-8 sm:py-10">
                    <div
                        class="layout-content-container flex flex-col items-center max-w-[960px] flex-1 gap-6 text-center">
                        <div class="flex items-center gap-6">
                            <a class="text-white hover:text-primary transition-colors"
                                href="https://www.instagram.com/malamia_lounge/">
                                <svg class="feather feather-instagram" fill="none" height="24" stroke="currentColor"
                                    stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewbox="0 0 24 24"
                                    width="24" xmlns="http://www.w3.org/2000/svg">
                                    <rect height="20" rx="5" ry="5" width="20" x="2" y="2"></rect>
                                    <path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"></path>
                                    <line x1="17.5" x2="17.51" y1="6.5" y2="6.5"></line>
                                </svg>
                            </a>
                        </div>
                        <p class="text-[#b09db9] text-sm">© 2024 Mala Mia Lounge. Todos los derechos reservados.</p>
                    </div>
                </div>
            </footer>
        </div>
    </div>

    <!-- Mobile menu toggle -->
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const btn = document.getElementById('mobile-menu-button');
            const menu = document.getElementById('mobile-menu');
            if (!btn || !menu) return;

            btn.addEventListener('click', function (e) {
                e.stopPropagation();
                const isOpen = !menu.classList.toggle('hidden');
                btn.setAttribute('aria-expanded', String(isOpen));
            });

            // Cerrar menú al hacer click en un enlace (UX móvil)
            menu.querySelectorAll('a').forEach(a => {
                a.addEventListener('click', () => {
                    menu.classList.add('hidden');
                    btn.setAttribute('aria-expanded', 'false');
                });
            });

            // Cerrar menú si se toca fuera
            document.addEventListener('click', (ev) => {
                if (!menu.classList.contains('hidden') && !menu.contains(ev.target) && ev.target !== btn) {
                    menu.classList.add('hidden');
                    btn.setAttribute('aria-expanded', 'false');
                }
            });
        });
    </script>

    <!-- Script para poblar la sección de vídeos y convertirla en carrusel (sin autoplay automático) -->
    <script>
        (function () {
            // Lista de vídeos en la carpeta /videos
            const videoFiles = [
                "videos/Hallowen.mp4",
                "videos/Video1.mp4",
                "videos/Video2.mp4",
                "videos/Video3.mp4",
                "videos/Video4.mp4"
            ];

            const slidesContainer = document.getElementById('videos-carousel-slides');
            const carousel = document.getElementById('videos-carousel');
            const header = document.querySelector('header');
            const prevBtn = document.getElementById('videos-prev');
            const nextBtn = document.getElementById('videos-next');
            const soundToggle = document.getElementById('videos-sound-toggle');

            if (!slidesContainer) return;

            if (videoFiles.length === 0) {
                slidesContainer.innerHTML = '<p class="text-[#b09db9] p-4">No hay vídeos en la carpeta <code>/videos</code>.</p>';
                return;
            }

            // helpers para iconos (muted / unmuted)
            function svgMuted() {
                return '<svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true"><path d="M9.586 3.586A1 1 0 0 0 8 4.293v11.414a1 1 0 0 0 1.586.707L13.414 14H15a1 1 0 0 0 1-1V7a1 1 0 0 0-1-1h-1.586l-3.828-2.121z"/><path d="M3 3l14 14" stroke="currentColor" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round" fill="none"/></svg>';
            }
            function svgUnmuted() {
                return '<svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true"><path d="M9.586 3.586A1 1 0 0 0 8 4.293v11.414a1 1 0 0 0 1.586.707L13.414 14H15a1 1 0 0 0 1-1V7a1 1 0 0 0-1-1h-1.586l-3.828-2.121z"/><path d="M16.5 7.5a4.5 4.5 0 0 1 0 5" stroke="currentColor" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round" fill="none"/></svg>';
            }

            // Crear slides
            const videos = [];
            videoFiles.forEach((file, i) => {
                const slide = document.createElement('div');
                slide.className = 'absolute inset-0 flex items-center justify-center transition-opacity duration-700';
                slide.style.opacity = i === 0 ? '1' : '0';
                slide.style.pointerEvents = i === 0 ? 'auto' : 'none';

                const wrapper = document.createElement('div');
                wrapper.className = 'flex items-center justify-center w-full h-full';
                wrapper.style.maxWidth = '420px';
                wrapper.style.margin = '0 auto';

                const video = document.createElement('video');
                video.src = file;
                video.muted = true; // start muted (autoplay allowed)
                video.playsInline = true;
                video.autoplay = true;
                video.loop = false; // avanzamos cuando termine (ended listener)
                video.controls = false;
                video.preload = 'metadata';
                video.className = 'rounded-xl';
                // que el vídeo ocupe el 100% del alto del contenedor
                video.style.height = '100%';
                video.style.maxHeight = '100%';
                video.style.width = 'auto';
                video.style.maxWidth = '100%';
                video.style.objectFit = 'cover';
                video.style.display = 'block';

                // Cuando termina el vídeo, avanzamos al siguiente
                video.addEventListener('ended', () => {
                    goTo((currentIndex + 1) % videos.length);
                });

                wrapper.appendChild(video);
                slide.appendChild(wrapper);
                slidesContainer.appendChild(slide);

                videos.push({ slide, video, file });
            });

            // Carousel state & functions (sin autoplay)
            let currentIndex = 0;

            function showIndex(idx) {
                videos.forEach((v, i) => {
                    const active = i === idx;
                    v.slide.style.opacity = active ? '1' : '0';
                    v.slide.style.pointerEvents = active ? 'auto' : 'none';
                    if (active) {
                        try { v.video.currentTime = 0; } catch (e) {}
                        v.video.play().catch(() => {});
                    } else {
                        try { v.video.pause(); } catch (e) {}
                    }
                });
                currentIndex = idx;
            }

            function goTo(idx) {
                showIndex(idx);
            }

            function next() {
                goTo((currentIndex + 1) % videos.length);
            }

            function prev() {
                goTo((currentIndex - 1 + videos.length) % videos.length);
            }

            // Conectar botones (solo control manual)
            prevBtn?.addEventListener('click', (e) => {
                e.stopPropagation();
                prev();
            });
            nextBtn?.addEventListener('click', (e) => {
                e.stopPropagation();
                next();
            });

            // sonido: estado y funciones (mejor UX visual)
            let soundEnabled = false;
            function updateSoundButtonVisual(enabled) {
                if (!soundToggle) return;
                soundToggle.classList.toggle('bg-primary', enabled);
                soundToggle.classList.toggle('bg-black/40', !enabled);
                soundToggle.classList.toggle('text-black', enabled);
                soundToggle.classList.toggle('text-white', !enabled);
                soundToggle.setAttribute('aria-pressed', String(enabled));
                soundToggle.title = enabled ? 'Desactivar sonido' : 'Activar sonido';
                soundToggle.setAttribute('aria-label', enabled ? 'Desactivar sonido' : 'Activar sonido');
                soundToggle.innerHTML = enabled ? svgUnmuted() : svgMuted();
            }

            function setSoundEnabled(enabled) {
                soundEnabled = enabled;
                videos.forEach(v => {
                    try {
                        v.video.muted = !enabled;
                        v.video.volume = enabled ? 0.85 : 0;
                    } catch (e) {}
                });
                updateSoundButtonVisual(enabled);
            }

            // Inicializar botón en estado muted
            updateSoundButtonVisual(false);

            soundToggle?.addEventListener('click', (e) => {
                e.stopPropagation();
                setSoundEnabled(!soundEnabled);
                try { videos[currentIndex].video.play().catch(() => {}); } catch {}
            });

            // teclas <- y -> para navegación
            document.addEventListener('keydown', (e) => {
                if (e.key === 'ArrowLeft') prev();
                if (e.key === 'ArrowRight') next();
            });

            // Ocultar cabecera cuando el carrusel está en pantalla (mejora inmersiva)
            if (carousel && header) {
                const io = new IntersectionObserver(entries => {
                    entries.forEach(entry => {
                        if (entry.isIntersecting && entry.intersectionRatio > 0.5) {
                            header.style.display = 'none';
                        } else {
                            header.style.display = '';
                        }
                    });
                }, { threshold: [0.5] });
                io.observe(carousel);
            }

            // Soporte para avanzar con swipe en móvil
            (function addSwipe() {
                let startX = 0;
                let startY = 0;
                let hasMoved = false;
                slidesContainer.addEventListener('touchstart', e => {
                    const t = e.touches[0];
                    startX = t.clientX;
                    startY = t.clientY;
                    hasMoved = false;
                }, { passive: true });
                slidesContainer.addEventListener('touchmove', e => {
                    hasMoved = true;
                }, { passive: true });
                slidesContainer.addEventListener('touchend', e => {
                    if (!hasMoved) return;
                    const t = e.changedTouches[0];
                    const dx = t.clientX - startX;
                    const dy = t.clientY - startY;
                    if (Math.abs(dx) > Math.abs(dy) && Math.abs(dx) > 30) {
                        if (dx < 0) next(); else prev();
                    }
                }, { passive: true });
            })();

            // iniciar mostrando la primera slide
            showIndex(0);

        })();
    </script>
</body>

</html>